{"remainingRequest":"/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/node_modules/docz-core/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/preset-env\",{\"modules\":false,\"targets\":{\"browsers\":[\"last 2 versions\"]}}],\"@babel/preset-react\",[\"/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":false}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-import-meta\",\"@babel/plugin-proposal-class-properties\",\"@babel/plugin-proposal-json-strings\",[\"@babel/plugin-proposal-decorators\",{\"legacy\":true}],\"@babel/plugin-proposal-function-sent\",\"@babel/plugin-proposal-export-namespace-from\",\"@babel/plugin-proposal-numeric-separator\",\"@babel/plugin-proposal-throw-expressions\",\"@babel/plugin-proposal-export-default-from\",\"@babel/plugin-proposal-logical-assignment-operators\",\"@babel/plugin-proposal-optional-chaining\",[\"@babel/plugin-proposal-pipeline-operator\",{\"proposal\":\"minimal\"}],\"@babel/plugin-proposal-nullish-coalescing-operator\",\"@babel/plugin-proposal-do-expressions\",\"@babel/plugin-proposal-function-bind\"],\"env\":{\"test\":{\"presets\":[\"@babel/preset-env\",\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-import-meta\",\"@babel/plugin-proposal-class-properties\",\"@babel/plugin-proposal-json-strings\",[\"@babel/plugin-proposal-decorators\",{\"legacy\":true}],\"@babel/plugin-proposal-function-sent\",\"@babel/plugin-proposal-export-namespace-from\",\"@babel/plugin-proposal-numeric-separator\",\"@babel/plugin-proposal-throw-expressions\",\"@babel/plugin-proposal-export-default-from\",\"@babel/plugin-proposal-logical-assignment-operators\",\"@babel/plugin-proposal-optional-chaining\",[\"@babel/plugin-proposal-pipeline-operator\",{\"proposal\":\"minimal\"}],\"@babel/plugin-proposal-nullish-coalescing-operator\",\"@babel/plugin-proposal-do-expressions\",\"@babel/plugin-proposal-function-bind\"]}},\"cacheDirectory\":true,\"babelrc\":false}!/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/utils/props.js","dependencies":[{"path":"/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/utils/props.js","mtime":1534340142000},{"path":"/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/node_modules/cache-loader/dist/cjs.js","mtime":1543854896000},{"path":"/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1538135612000}],"contextDependencies":[],"result":["var _PROPS_RESERVED;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport isNil from 'lodash/isNil';\nimport invariant from 'fbjs/lib/invariant';\nimport * as PIXI from 'pixi.js';\nimport { eventHandlers, setValue } from './pixi';\nimport { isFunction, not, hasKey } from '../helpers';\nexport var CHILDREN = 'children';\n/**\n * Reserved props\n *\n * @type {Object}\n */\n\nexport var PROPS_RESERVED = (_PROPS_RESERVED = {}, _defineProperty(_PROPS_RESERVED, CHILDREN, true), _defineProperty(_PROPS_RESERVED, \"parent\", true), _defineProperty(_PROPS_RESERVED, \"worldAlpha\", true), _defineProperty(_PROPS_RESERVED, \"worldTransform\", true), _defineProperty(_PROPS_RESERVED, \"worldVisible\", true), _PROPS_RESERVED);\n/**\n * Default display object props\n * See https://github.com/michalochman/react-pixi-fiber/blob/a4dbddbef0ffbf0f563c64d30766ea28222a51ea/src/props.js#L9\n *\n * @type {Object}\n */\n\nexport var PROPS_DISPLAY_OBJECT = {\n  alpha: 1,\n  buttonMode: false,\n  cacheAsBitmap: false,\n  cursor: null,\n  filterArea: null,\n  filters: null,\n  hitArea: null,\n  interactive: false,\n  mask: null,\n  pivot: 0,\n  position: 0,\n  renderable: true,\n  rotation: 0,\n  scale: 1,\n  skew: 0,\n  transform: null,\n  visible: true,\n  x: 0,\n  y: 0\n  /**\n   * Helper util for fetching the texture from props\n   * Can be either texture or image\n   *\n   * @param {string} elementType\n   * @param {PIXI.Texture} texture\n   * @param {string|undefined} image\n   * @returns {PIXI.Texture}\n   */\n\n};\nexport var getTextureFromProps = function getTextureFromProps(elementType, _ref) {\n  var _ref$texture = _ref.texture,\n      texture = _ref$texture === void 0 ? undefined : _ref$texture,\n      _ref$image = _ref.image,\n      image = _ref$image === void 0 ? undefined : _ref$image;\n\n  if (image) {\n    invariant(typeof image === 'string', elementType + ' image needs to be a string, got `%s`', _typeof(image));\n    return PIXI.Texture.fromImage(image);\n  }\n\n  invariant(texture instanceof PIXI.Texture, elementType + ' texture needs to be typeof `PIXI.Texture`');\n  return texture;\n};\n/**\n * Apply default props on Display Object instance (which are all components)\n *\n * @param {PIXI.DisplayObject} instance\n * @param {Object} oldProps\n * @param {Object} newProps\n */\n\nexport function applyDefaultProps(instance, oldProps, newProps) {\n  invariant(PIXI.DisplayObject.prototype.isPrototypeOf(instance), 'instance needs to be typeof `PIXI.DisplayObject`, ' + 'got `%s`', _typeof(instance)); // update event handlers\n\n  if (!newProps.ignoreEvents) {\n    eventHandlers.forEach(function (evt) {\n      isFunction(oldProps[evt], instance.removeListener) && instance.removeListener(evt, oldProps[evt]);\n      isFunction(newProps[evt], instance.on) && instance.on(evt, newProps[evt]);\n    });\n  } // hard overwrite all props? can speed up performance\n\n\n  if (newProps.overwriteProps) {\n    for (var p in newProps) {\n      if (oldProps[p] !== newProps[p]) {\n        setValue(instance, p, newProps[p]);\n      }\n    }\n\n    return;\n  }\n\n  var props = Object.keys(newProps || {}).filter(not(hasKey(PROPS_RESERVED))).filter(not(hasKey(eventHandlers)));\n  props.forEach(function (prop) {\n    var value = newProps[prop];\n\n    if (!isNil(value)) {\n      // set value if defined\n      setValue(instance, prop, value);\n    } else if (!isNil(instance[prop]) && prop in PROPS_DISPLAY_OBJECT) {\n      // is a default value, use that\n      console.warn(\"setting default value: \".concat(prop, \", from: \").concat(instance[prop], \" to: \").concat(value, \" for\"), instance);\n      setValue(instance, prop, PROPS_DISPLAY_OBJECT[prop]);\n    } else {\n      console.warn(\"ignoring prop: \".concat(prop, \", from \").concat(instance[prop], \" to \").concat(value, \" for\"), instance);\n    }\n  });\n}",{"version":3,"sources":["/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/utils/props.js"],"names":["isNil","invariant","PIXI","eventHandlers","setValue","isFunction","not","hasKey","CHILDREN","PROPS_RESERVED","PROPS_DISPLAY_OBJECT","alpha","buttonMode","cacheAsBitmap","cursor","filterArea","filters","hitArea","interactive","mask","pivot","position","renderable","rotation","scale","skew","transform","visible","x","y","getTextureFromProps","elementType","texture","undefined","image","Texture","fromImage","applyDefaultProps","instance","oldProps","newProps","DisplayObject","prototype","isPrototypeOf","ignoreEvents","forEach","evt","removeListener","on","overwriteProps","p","props","Object","keys","filter","prop","value","console","warn"],"mappings":"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","sourcesContent":["import isNil from 'lodash/isNil'\nimport invariant from 'fbjs/lib/invariant'\nimport * as PIXI from 'pixi.js'\nimport { eventHandlers, setValue } from './pixi'\nimport { isFunction, not, hasKey } from '../helpers'\n\nexport const CHILDREN = 'children'\n/**\n * Reserved props\n *\n * @type {Object}\n */\nexport const PROPS_RESERVED = {\n  [CHILDREN]: true,\n  parent: true,\n  worldAlpha: true,\n  worldTransform: true,\n  worldVisible: true,\n}\n\n/**\n * Default display object props\n * See https://github.com/michalochman/react-pixi-fiber/blob/a4dbddbef0ffbf0f563c64d30766ea28222a51ea/src/props.js#L9\n *\n * @type {Object}\n */\nexport const PROPS_DISPLAY_OBJECT = {\n  alpha: 1,\n  buttonMode: false,\n  cacheAsBitmap: false,\n  cursor: null,\n  filterArea: null,\n  filters: null,\n  hitArea: null,\n  interactive: false,\n  mask: null,\n  pivot: 0,\n  position: 0,\n  renderable: true,\n  rotation: 0,\n  scale: 1,\n  skew: 0,\n  transform: null,\n  visible: true,\n  x: 0,\n  y: 0,\n}\n\n/**\n * Helper util for fetching the texture from props\n * Can be either texture or image\n *\n * @param {string} elementType\n * @param {PIXI.Texture} texture\n * @param {string|undefined} image\n * @returns {PIXI.Texture}\n */\nexport const getTextureFromProps = (elementType, { texture = undefined, image = undefined }) => {\n  if (image) {\n    invariant(typeof image === 'string', elementType + ' image needs to be a string, got `%s`', typeof image)\n    return PIXI.Texture.fromImage(image)\n  }\n\n  invariant(texture instanceof PIXI.Texture, elementType + ' texture needs to be typeof `PIXI.Texture`')\n  return texture\n}\n\n/**\n * Apply default props on Display Object instance (which are all components)\n *\n * @param {PIXI.DisplayObject} instance\n * @param {Object} oldProps\n * @param {Object} newProps\n */\nexport function applyDefaultProps(instance, oldProps, newProps) {\n  invariant(\n    PIXI.DisplayObject.prototype.isPrototypeOf(instance),\n    'instance needs to be typeof `PIXI.DisplayObject`, ' + 'got `%s`',\n    typeof instance\n  )\n\n  // update event handlers\n  if (!newProps.ignoreEvents) {\n    eventHandlers.forEach(function(evt) {\n      isFunction(oldProps[evt], instance.removeListener) && instance.removeListener(evt, oldProps[evt])\n      isFunction(newProps[evt], instance.on) && instance.on(evt, newProps[evt])\n    })\n  }\n\n  // hard overwrite all props? can speed up performance\n  if (newProps.overwriteProps) {\n    for (let p in newProps) {\n      if (oldProps[p] !== newProps[p]) {\n        setValue(instance, p, newProps[p])\n      }\n    }\n    return\n  }\n\n  let props = Object.keys(newProps || {})\n    .filter(not(hasKey(PROPS_RESERVED)))\n    .filter(not(hasKey(eventHandlers)))\n\n  props.forEach(prop => {\n    const value = newProps[prop]\n\n    if (!isNil(value)) {\n      // set value if defined\n      setValue(instance, prop, value)\n    } else if (!isNil(instance[prop]) && prop in PROPS_DISPLAY_OBJECT) {\n      // is a default value, use that\n      console.warn(`setting default value: ${prop}, from: ${instance[prop]} to: ${value} for`, instance)\n      setValue(instance, prop, PROPS_DISPLAY_OBJECT[prop])\n    } else {\n      console.warn(`ignoring prop: ${prop}, from ${instance[prop]} to ${value} for`, instance)\n    }\n  })\n}\n"]}]}