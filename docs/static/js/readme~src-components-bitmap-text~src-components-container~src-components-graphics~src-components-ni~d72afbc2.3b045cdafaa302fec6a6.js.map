{"version":3,"sources":["/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/helpers/index.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/hooks/useTick.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/hooks/useApp.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/index.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/reconciler/hostconfig.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/reconciler/index.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/render/index.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/stage/index.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/stage/provider.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/components/BitmapText.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/components/Container.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/components/Graphics.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/components/NineSlicePlane.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/components/ParticleContainer.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/components/Sprite.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/components/Text.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/components/TilingSprite.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/components/SimpleMesh.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/components/SimpleRope.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/utils/element.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/utils/pixi.js","/Users/pbrouwer/Documents/work/inlet/repos/react-pixi-fiber/src/utils/props.js"],"names":["__webpack_require__","d","__webpack_exports__","hasKey","not","runningInBrowser","isFunction","_len","arguments","length","args","Array","_key","every","v","isObject","obj","Object","prototype","toString","call","collection","coll","isArray","Error","keys","index","forEach","key","boolFn","apply","window","useTick","callback","enabled","undefined","app","useContext","Context","invariant","Application","savedRef","useRef","useEffect","current","tick","delta","ticker","add","remove","useApp","BitmapText","Container","Graphics","NineSlicePlane","ParticleContainer","Sprite","Text","TilingSprite","SimpleMesh","SimpleRope","TYPES","appendChild","parent","child","addChild","didMount","removeChild","willUnmount","destroy","insertBefore","beforeChild","childExists","children","indexOf","getChildIndex","setChildIndex","addChildAt","hostconfig","getRootHostContext","rootContainerInstance","getChildHostContext","getChildHostContextForEventComponent","parentHostContext","getPublicInstance","instance","prepareForCommit","resetAfterCommit","createInstance","createElement","hideInstance","visible","unhideInstance","props","hasOwnProperty","appendInitialChild","finalizeInitialChildren","wordElement","type","prepareUpdate","pixiElement","oldProps","newProps","hostContext","lastProps","nextProps","rootContainerElement","updatePayload","propKey","CHILDREN","push","nextProp","lastProp","diffProperties","shouldSetTextContent","shouldDeprioritizeSubtree","isAlphaVisible","alpha","isRenderable","renderable","isVisible","createTextInstance","text","internalInstanceHandler","mountEventComponent","updateEventComponent","handleEventTarget","scheduleTimeout","setTimeout","cancelTimeout","clearTimeout","noTimeout","warnsIfNotActing","now","performanceNow","isPrimaryRenderer","supportsMutation","supportsPersistence","supportsHydration","appendChildToContainer","removeChildFromContainer","insertInContainerBefore","commitUpdate","applyProps","applyDefaultProps","commitMount","commitTextUpdate","textInstance","oldText","newText","resetTextContent","PixiFiber","VERSION","PACKAGE_NAME","Reconciler","pkg","version","name","render","injectDevtools","fbjs_lib_invariant__WEBPACK_IMPORTED_MODULE_0__","fbjs_lib_invariant__WEBPACK_IMPORTED_MODULE_0___default","n","pixi_js__WEBPACK_IMPORTED_MODULE_1__","_reconciler__WEBPACK_IMPORTED_MODULE_2__","roots","Map","element","container","isPrototypeOf","root","get","createContainer","set","updateContainer","getPublicRootInstance","injectIntoDevTools","bundleType","rendererPackageName","findHostInstanceByFiber","findHostInstance","noop","propTypes","width","PropTypes","number","height","onMount","func","onUnmount","raf","bool","renderOnComponentChange","node","options","shape","antialias","autoStart","transparent","preserveDrawingBuffer","resolution","forceCanvas","backgroundColor","clearBeforeRender","roundPixels","forceFXAA","legacy","powerPreference","string","sharedTicker","sharedLoader","view","propName","componentName","el","HTMLCanvasElement","concat","defaultProps","getCanvasProps","reserved","_Users_pbrouwer_Documents_work_inlet_repos_react_pixi_fiber_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__","PROPS_DISPLAY_OBJECT","filter","p","includes","reduce","all","prop","_Users_pbrouwer_Documents_work_inlet_repos_react_pixi_fiber_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_8__","_Users_pbrouwer_Documents_work_inlet_repos_react_pixi_fiber_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_7__","Stage","_this$props","this","_canvas","mountNode","stage","getChildren","renderStage","prevProps","prevState","prevContext","_this$props2","renderer","resize","react__WEBPACK_IMPORTED_MODULE_10___default","a","_provider__WEBPACK_IMPORTED_MODULE_18__","value","error","errorInfo","console","_this$props3","_this2","_Users_pbrouwer_Documents_work_inlet_repos_react_pixi_fiber_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","ref","c","React","Component","createContext","AppProvider","Provider","AppConsumer","Consumer","withPixiApp","BaseComponent","wrapper","forwardRef","react__WEBPACK_IMPORTED_MODULE_1___default","displayName","style","PixiBitmapText","PixiContainer","g","PixiGraphics","draw","objectWithoutProperties","_props$leftWidth","leftWidth","_props$topHeight","topHeight","_props$rightWidth","rightWidth","_props$bottomHeight","bottomHeight","texture","getTextureFromProps","nineSlicePlane","PixiNineSlicePlane","image","_props$maxSize","maxSize","_props$batchSize","batchSize","_props$autoResize","autoResize","properties","objectSpread","vertices","scale","position","rotation","uvs","tint","destroyOptions","baseTexture","PixiParticleContainer","sprite","PixiSprite","_props$text","_props$style","PixiText","_props$width","_props$height","ts","PixiTilingSprite","_instance$tilePositio","_instance$tileScale","tileScale","tilePosition","toConsumableArray","parsePoint","indices","_props$drawMode","drawMode","DRAW_MODES","TRIANGLES","simpleMesh","PixiSimpleMesh","points","rope","PixiSimpleRope","ELEMENTS","elements","defineProperty","components","TYPES_INJECTED","fn","injected","create","bind","idx","_","PixiComponent","lifecycle","arr","split","_Users_pbrouwer_Documents_work_inlet_repos_react_pixi_fiber_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","x","y","isNil","isNaN","map","Number","isPointType","Point","ObservablePoint","eventHandlers","setValue","copyFrom","coordinates","JSON","stringify","shift","PROPS_RESERVED","_PROPS_RESERVED","_Users_pbrouwer_Documents_work_inlet_repos_react_pixi_fiber_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","buttonMode","cacheAsBitmap","cursor","filterArea","filters","hitArea","interactive","mask","pivot","skew","transform","elementType","check","inType","validator","valid","typeofs","some","t","instanceofs","i","Texture","result","HTMLImageElement","HTMLVideoElement","from","filterProps","DisplayObject","ignoreEvents","hasRemoveListener","removeListener","hasOn","on","evt","newPropKeys","overwriteProps","warn"],"mappings":"+xGAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAAJ,EAAAC,EAAAC,EAAA,sBAAAG,IAAO,IAAMC,EAAa,mBAAAC,EAAAC,UAAAC,OAAIC,EAAJ,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAIF,EAAJE,GAAAJ,UAAAI,GAAA,OAAaF,EAAKG,MAAM,SAAAC,GAAC,MAAiB,oBAANA,+KAEvD,IAAMC,EAAW,SAAAC,GAAG,MAA4C,oBAAxCC,OAAOC,UAAUC,SAASC,KAAKJ,4KAEvD,IAAMb,EAAS,SAAAkB,GACpB,IAAIC,EAAOD,EAEX,IAAKV,MAAMY,QAAQD,GAAO,CACxB,IAAIP,EAASM,GAGX,MAAM,IAAIG,MAAM,6CAFhBF,EAAOL,OAAOQ,KAAKJ,GAMvB,IAAMK,EAAQ,GAKd,OAJAJ,EAAKK,QAAQ,SAAAC,GACXF,EAAME,IAAO,IAGR,SAAAA,GAAG,MAA0B,qBAAfF,EAAME,mMAGtB,IAAMxB,EAAM,SAAAyB,GAAM,OAAI,kBAAcA,EAAMC,WAAN,EAAAtB,wMAEpC,IAAMH,EAAmB,iBAAwB,qBAAX0B,iiBCpB7C,SAASC,EAAQC,GAA0B,IAAhBC,IAAgB1B,UAAAC,OAAA,QAAA0B,IAAA3B,UAAA,KAAAA,UAAA,GACnC4B,EAAMC,qBAAWC,KACvBC,IACEH,aAAeI,IACf,oEACA,mBACA,eAGF,IAAMC,EAAWC,iBAAO,MAExBC,oBAAU,WACRF,EAASG,QAAUX,GAClB,CAACA,IAEJU,oBAAU,WACR,GAAIT,EAAS,CACX,IAAMW,EAAO,SAAAC,GAAK,OAAIL,EAASG,QAAQE,IAGvC,OAFAV,EAAIW,OAAOC,IAAIH,GAER,WACLT,EAAIW,OAAOE,OAAOJ,MAGrB,CAACX,IC1BC,SAASgB,IACd,OAAOb,qBAAWC,iXCJpBtC,EAAAC,EAAAC,EAAA,sBAAAiD,IAAAnD,EAAAC,EAAAC,EAAA,sBAAAkD,IAAApD,EAAAC,EAAAC,EAAA,sBAAAmD,IAAArD,EAAAC,EAAAC,EAAA,sBAAAoD,IAAAtD,EAAAC,EAAAC,EAAA,sBAAAqD,IAAAvD,EAAAC,EAAAC,EAAA,sBAAAsD,IAAAxD,EAAAC,EAAAC,EAAA,sBAAAuD,IAAAzD,EAAAC,EAAAC,EAAA,sBAAAwD,IAAA1D,EAAAC,EAAAC,EAAA,sBAAAyD,IAAA3D,EAAAC,EAAAC,EAAA,sBAAA0D,IAAA5D,EAAAC,EAAAC,EAAA,sBAAA8B,0jEAmBO,IAAMmB,EAAaU,IAAMV,qMACzB,IAAMC,EAAYS,IAAMT,mMACxB,IAAMC,EAAWQ,IAAMR,iMACvB,IAAMC,EAAiBO,IAAMP,6MAC7B,IAAMC,EAAoBM,IAAMN,mNAChC,IAAMC,EAASK,IAAML,6LACrB,IAAMC,EAAOI,IAAMJ,yLACnB,IAAMC,EAAeG,IAAMH,yMAC3B,IAAMC,EAAaE,IAAMF,qMACzB,IAAMC,EAAaC,IAAMD,ugBCZhC,SAASE,EAAYC,EAAQC,GACvBD,EAAOE,WACTF,EAAOE,SAASD,GAEc,oBAAnBA,EAAME,UACfF,EAAME,SAAS9C,KAAK4C,EAAOA,EAAOD,IAKxC,SAASI,EAAYJ,EAAQC,GACM,oBAAtBA,EAAMI,aACfJ,EAAMI,YAAYhD,KAAK4C,EAAOA,EAAOD,GAGvCA,EAAOI,YAAYH,GACnBA,EAAMK,UAGR,SAASC,EAAaP,EAAQC,EAAOO,GACnChC,IAAUyB,IAAUO,EAAa,8CAEjC,IAAMC,GAAkD,IAApCT,EAAOU,SAASC,QAAQV,GACtCtC,EAAQqC,EAAOY,cAAcJ,GAEnCC,EAAcT,EAAOa,cAAcZ,EAAOtC,GAASqC,EAAOc,WAAWb,EAAOtC,GA8C/D,IAAAoD,EAAA,CACbC,mBADa,SACMC,GACjB,OAAOA,GAGTC,oBALa,WAMX,MAAO,IAGTC,qCATa,SASwBC,GACnC,OAAOA,GAGTC,kBAba,SAaKC,GAChB,OAAOA,GAGTC,iBAjBa,aAqBbC,iBArBa,aAyBbC,eAAgBC,IAEhBC,aA3Ba,SA2BAL,GACXA,EAASM,SAAU,GAGrBC,eA/Ba,SA+BEP,EAAUQ,GACvB,IAAMF,OAAoBxD,IAAV0D,GAAiC,OAAVA,IAAkBA,EAAMC,eAAe,YAAaD,EAAMF,QAEjGN,EAASM,QAAUA,GAGrBI,mBAAoBjC,EAEpBkC,wBAvCa,SAuCWC,EAAaC,EAAML,GACzC,OAAO,GAGTM,cA3Ca,SA2CCC,EAAaF,EAAMG,EAAUC,EAAUtB,EAAuBuB,GAC1E,OArFJ,SAAwBH,EAAaF,EAAMM,EAAWC,EAAWC,GAC/D,IAAIC,EAAgB,KAEpB,IAAK,IAAIC,KAAWJ,GACdC,EAAUX,eAAec,IAAaJ,EAAUV,eAAec,IAAkC,MAAtBJ,EAAUI,KAGrFA,IAAYC,MAKTF,IACHA,EAAgB,IAElBA,EAAcG,KAAKF,EAAS,QAIhC,IAAK,IAAIA,KAAWH,EAAW,CAC7B,IAAMM,EAAWN,EAAUG,GACrBI,EAAwB,MAAbR,EAAoBA,EAAUI,QAAWzE,GAErDsE,EAAUX,eAAec,IAAYG,IAAaC,GAAyB,MAAZD,GAAgC,MAAZC,GAIpFJ,IAAYC,MAKTF,IACHA,EAAgB,IAElBA,EAAcG,KAAKF,EAASG,IAGhC,OAAOJ,EA+CEM,CAAeb,EAAaF,EAAMG,EAAUC,IAGrDY,qBA/Ca,SA+CQhB,EAAML,GACzB,OAAO,GAGTsB,0BAnDa,SAmDajB,EAAML,GAC9B,IAAMuB,EAAwC,qBAAhBvB,EAAMwB,OAAyBxB,EAAMwB,MAAQ,EACrEC,EAA2C,qBAArBzB,EAAM0B,aAAmD,IAArB1B,EAAM0B,WAChEC,EAAqC,qBAAlB3B,EAAMF,UAA6C,IAAlBE,EAAMF,QAEhE,QAASyB,GAAkBE,GAAgBE,IAG7CC,mBA3Da,SA2DMC,EAAM1C,EAAuB2C,GAC9CpF,KAAU,EAAO,iFAGnBqF,oBA/Da,aAmEbC,qBAnEa,aAuEbC,kBAvEa,aA2EbC,gBAAiBC,WAEjBC,cAAeC,aAEfC,WAAY,EAEZC,kBAAkB,EAElBC,IAAKC,IAELC,mBAAmB,EAEnBC,kBAAkB,EAElBC,qBAAqB,EAErBC,mBAAmB,EAQnB5E,cAEA6E,uBAAwB7E,EAExBK,cAEAyE,yBAA0BzE,EAE1BG,eAEAuE,wBAAyBvE,EAEzBwE,aA/Ga,SA+GAzD,EAAUsB,EAAeT,EAAMG,EAAUC,GACpD,IAAIyC,EAAa1D,GAAYA,EAAS0D,WACZ,oBAAfA,IACTA,EAAaC,KAEfD,EAAW1D,EAAUgB,EAAUC,IAGjC2C,YAvHa,SAuHD5D,EAAUsB,EAAeT,EAAMG,EAAUC,KAIrD4C,iBA3Ha,SA2HIC,EAAcC,EAASC,KAIxCC,iBA/Ha,SA+HIlD,4sVCtNnBpG,EAAAC,EAAAC,EAAA,sBAAAqJ,IAAAvJ,EAAAC,EAAAC,EAAA,sBAAAsJ,IAAAxJ,EAAAC,EAAAC,EAAA,sBAAAuJ,IAIO,IAAMF,EAAYG,IAAW5E,uMAC7B,IAAM0E,EAAUG,EAAIC,0MACpB,IAAMH,EAAeE,EAAIE,kQCNhC7J,EAAAC,EAAAC,EAAA,sBAAA4J,IAAA9J,EAAAC,EAAAC,EAAA,sBAAA6J,IAAA,IAAAC,EAAAhK,EAAA,wCAAAiK,EAAAjK,EAAAkK,EAAAF,GAAAG,EAAAnK,EAAA,yCAAAoK,EAAApK,EAAA,6BAKaqK,EAAQ,IAAIC,IAUlB,SAASR,EAAOS,EAASC,GAAiC,IAAtBvI,EAAsBzB,UAAAC,OAAA,QAAA0B,IAAA3B,UAAA,GAAAA,UAAA,QAAX2B,EACpDI,IACEa,IAAUlC,UAAUuJ,cAAcD,GAClC,wEAGF,IAAIE,EAAOL,EAAMM,IAAIH,GAcrB,OAbKE,IAEHA,EAAOnB,IAAUqB,gBAAgBJ,GACjCH,EAAMQ,IAAIL,EAAWE,IAIvBnB,IAAUuB,gBAAgBP,EAASG,OAAMvI,EAAWF,GAGpD8H,IAGOR,IAAUwB,sBAAsBL,GAMlC,SAASX,IACdR,IAAUyB,mBAAmB,CAC3BC,WAAwD,EACxDrB,QAASJ,IACT0B,oBAAqBzB,IACrB0B,wBAAyB5B,IAAU6B,67DCpCjCC,EAAO,aAqBPC,EAAY,CAEhBC,MAAOC,IAAUC,OACjBC,OAAQF,IAAUC,OAGlBE,QAASH,IAAUI,KACnBC,UAAWL,IAAUI,KAGrBE,IAAKN,IAAUO,KAGfC,wBAAyBR,IAAUO,KAEnCtH,SAAU+G,IAAUS,KAGpBC,QAASV,IAAUW,MAAM,CACvBC,UAAWZ,IAAUO,KACrBM,UAAWb,IAAUO,KACrBR,MAAOC,IAAUC,OACjBC,OAAQF,IAAUC,OAClBa,YAAad,IAAUO,KACvBQ,sBAAuBf,IAAUO,KACjCS,WAAYhB,IAAUC,OACtBgB,YAAajB,IAAUO,KACvBW,gBAAiBlB,IAAUC,OAC3BkB,kBAAmBnB,IAAUO,KAC7Ba,YAAapB,IAAUO,KACvBc,UAAWrB,IAAUO,KACrBe,OAAQtB,IAAUO,KAClBgB,gBAAiBvB,IAAUwB,OAC3BC,aAAczB,IAAUO,KACxBmB,aAAc1B,IAAUO,KAGxBoB,KAAM,SAACtH,EAAOuH,EAAUC,GACtB,IAAMC,EAAKzH,EAAMuH,QACNjL,IAAPmL,GAGJ/K,IACE+K,aAAcC,kBADP,+BAAAC,cAEiCF,EAFjC,kBAAAE,OAEoDH,EAFpD,sCAQTI,EAAe,CACnBlC,MAAO,IACPG,OAAQ,IACRC,QAASN,EACTQ,UAAWR,EACXS,KAAK,EACLE,yBAAyB,GAGpB,SAAS0B,EAAe7H,GAC7B,IAAM8H,EAAQ,GAAAH,OAAAvM,OAAA2M,EAAA,EAAA3M,CAAOA,OAAOQ,KAAK6J,IAAnBrK,OAAA2M,EAAA,EAAA3M,CAAkCA,OAAOQ,KAAKoM,OAE5D,OAAO5M,OAAOQ,KAAKoE,GAChBiI,OAAO,SAAAC,GAAC,OAAKJ,EAASK,SAASD,KAC/BE,OAAO,SAACC,EAAKC,GAAN,OAAAlN,OAAAmN,EAAA,EAAAnN,CAAA,GAAqBiN,EAArBjN,OAAAoN,EAAA,EAAApN,CAAA,GAA2BkN,EAAOtI,EAAMsI,MAAU,oLAGxDG,iPACM,uCACJ,iGAGJ/L,IAAUlC,cAAD,gGAGS,IAAAkO,EAC+BC,KAAK3I,MAA9C8F,EADU4C,EACV5C,QAASJ,EADCgD,EACDhD,MAAOG,EADN6C,EACM7C,OAAQQ,EADdqC,EACcrC,QAASJ,EADvByC,EACuBzC,IAEzC0C,KAAKpM,IAAM,IAAII,IAAJvB,OAAAmN,EAAA,EAAAnN,CAAA,CACTsK,QACAG,SACAyB,KAAMqB,KAAKC,SACRvC,IAGLsC,KAAKpM,IAAIW,OAAOsJ,WAAY,EAE5BmC,KAAKpM,IAAIW,OAAO+I,EAAM,QAAU,UAEhC0C,KAAKE,UAAYnF,IAAUqB,gBAAgB4D,KAAKpM,IAAIuM,OACpDpF,IAAUuB,gBAAgB0D,KAAKI,cAAeJ,KAAKE,UAAWF,MAE9DzE,cAEA4B,EAAQ6C,KAAKpM,KACboM,KAAKK,yDAGYC,EAAWC,EAAWC,GAAa,IAAAC,EACrBT,KAAK3I,MAA5B0F,EAD4C0D,EAC5C1D,MAAOG,EADqCuD,EACrCvD,OAAQI,EAD6BmD,EAC7BnD,IAGnBgD,EAAUpD,SAAWA,GAAUoD,EAAUvD,QAAUA,GACrDiD,KAAKpM,IAAI8M,SAASC,OAAO5D,EAAOG,GAI9BoD,EAAUhD,MAAQA,GACpB0C,KAAKpM,IAAIW,OAAO+I,EAAM,QAAU,UAMlCvC,IAAUuB,gBAAgB0D,KAAKI,cAAeJ,KAAKE,UAAWF,MAC9DA,KAAKK,oDAGO,IACJpK,EAAa+J,KAAK3I,MAAlBpB,SACR,OAAO2K,EAAAC,EAAA5J,cAAC6J,EAAA,EAAD,CAAaC,MAAOf,KAAKpM,KAAMqC,6CAGtB+K,EAAOC,GACvBC,QAAQF,MAAR,8BACAE,QAAQF,MAAMA,GACdE,QAAQF,MAAMC,yCAGF,IAAAE,EAC6BnB,KAAK3I,MAAtCmG,EADI2D,EACJ3D,yBADI2D,EACqB7D,KAErBE,GACVwC,KAAKpM,IAAI8M,SAASpF,OAAO0E,KAAKpM,IAAIuM,sDAKpCH,KAAK3I,MAAMgG,UAAU2C,KAAKpM,KAE1BmH,IAAUuB,gBAAgB,KAAM0D,KAAKE,UAAWF,MAChDA,KAAKK,cACLL,KAAKpM,IAAIiC,2CAGF,IAAAuL,EAAApB,KACCtC,EAAYsC,KAAK3I,MAAjBqG,QAER,OAAIA,GAAWA,EAAQiB,MACrB5K,IAAU2J,EAAQiB,gBAAgBI,kBAAmB,kDAC9C,MAGF6B,EAAAC,EAAA5J,cAAA,SAAAxE,OAAA4O,EAAA,EAAA5O,CAAA,GAAYyM,EAAec,KAAK3I,OAAhC,CAAwCiK,IAAK,SAAAC,GAAC,OAAKH,EAAKnB,QAAUsB,aAtFzDC,IAAMC,WA2F1B3B,EAAMb,aAAeA,EAENa,2gBC7LThM,EAAU0N,IAAME,cAAc,MAE9BC,EAAc7N,EAAQ8N,SACtBC,EAAc/N,EAAQgO,SAEtBC,EAAc,SAAAC,GAClB,IAAMC,EAAUT,IAAMU,WAAW,SAAC7K,EAAOiK,GAAR,OAC/Ba,EAAAtB,EAAA5J,cAAC4K,EAAD,KAAc,SAAAjO,GAAG,OAAIuO,EAAAtB,EAAA5J,cAAC+K,EAADvP,OAAA4O,EAAA,EAAA5O,CAAA,GAAmB4E,EAAnB,CAA0BiK,IAAKA,EAAK1N,IAAKA,SAGhE,OADAqO,EAAQG,YAAR,eAAApD,OAAqCgD,EAAcI,aAAeJ,EAAc3G,KAAhF,KACO4G,4mDCVHtN,EAAa,SAACuH,EAAM7E,GAAU,IAC1B6B,EAAgB7B,EAAhB6B,KAAMmJ,EAAUhL,EAAVgL,MACd,OAAO,IAAIC,IAAepJ,EAAMmJ,IAGnB1N,sLCLf,IAAMC,EAAY,kBAAM,IAAI2N,KAEb3N,wSCDTC,EAAW,SAACqH,EAAM7E,GACtB,IAAMmL,EAAI,IAAIC,IAWd,OATAD,EAAEjI,WAAa,SAAC1D,EAAUgB,EAAUC,GAAa,IACvC4K,EAAmB5K,EAAnB4K,KAASrL,EAD8B5E,OAAAkQ,EAAA,EAAAlQ,CACpBqF,EADoB,UAE/C0C,YAAkB3D,EAAUgB,EAAUR,GAElCqL,GAAwB,oBAATA,GACjBA,EAAK9P,KAAK4P,EAAGA,IAIVA,GAGM3N,kLCff,IAAMC,EAAiB,SAACoH,EAAM7E,GAAU,IAAAuL,EACyCvL,EAAvEwL,iBAD8B,IAAAD,EAClB,GADkBA,EAAAE,EACyCzL,EAAvD0L,iBADc,IAAAD,EACF,GADEA,EAAAE,EACyC3L,EAAvC4L,kBADF,IAAAD,EACe,GADfA,EAAAE,EACyC7L,EAAtB8L,oBADnB,IAAAD,EACkC,GADlCA,EAEhCE,EAAUC,YAAoB,iBAAkBhM,GAEhDiM,EAAiB,IAAIC,IAAmBH,EAASP,EAAWE,EAAWE,EAAYE,GAWzF,OATAG,EAAe/I,WAAa,SAAC1D,EAAUgB,EAAUC,GAAa,IACpD0L,EAA6B1L,EAA7B0L,MAAOJ,EAAsBtL,EAAtBsL,QAAY/L,EADiC5E,OAAAkQ,EAAA,EAAAlQ,CACvBqF,EADuB,qBAE5D0C,YAAkB3D,EAAUgB,EAAUR,IAElCmM,GAASJ,KACXvM,EAASuM,QAAUC,YAAoB,iBAAkBvL,KAItDwL,GAGMxO,8LCnBf,IAAMC,EAAoB,SAACmH,EAAM7E,GAAU,IAAAoM,EACyBpM,EAA1DqM,eADiC,IAAAD,EACvB,KADuBA,EAAAE,EACyBtM,EAA1CuM,iBADiB,IAAAD,EACL,MADKA,EAAAE,EACyBxM,EAAvByM,kBADF,IAAAD,KAGnCE,EAAUtR,OAAAuR,EAAA,EAAAvR,CAAA,GACX,CACDwR,UAAU,EACVC,OAAO,EACPC,UAAU,EACVC,UAAU,EACVC,KAAK,EACLC,MAAM,GAEJjN,EAAM0M,YAAc,IAGpBQ,EAAc9R,OAAAuR,EAAA,EAAAvR,CAAA,GACf,CACDwD,UAAU,EACVmN,SAAS,EACToB,aAAa,GAEXnN,EAAMkN,gBAAkB,IAGxBvI,EAAY,IAAIyI,IAAsBf,EAASK,EAAYH,EAAWE,GAM5E,OAJA9H,EAAUpG,YAAc,SAACiB,EAAUrB,EAAOD,GACxCsB,EAAShB,QAAQ0O,IAGZvI,GAGMjH,oMChCf,IAAMC,EAAS,SAACkH,EAAM7E,GACpB,IAAMqN,EAAS,IAAIC,IAAWtB,YAAoB,SAAUhM,IAW5D,OATAqN,EAAOnK,WAAa,SAAC1D,EAAUgB,EAAUC,GAAa,IAC5C0L,EAA6B1L,EAA7B0L,MAAOJ,EAAsBtL,EAAtBsL,QAAY/L,EADyB5E,OAAAkQ,EAAA,EAAAlQ,CACfqF,EADe,qBAEpD0C,YAAkB3D,EAAUgB,EAAUR,IAEjC+L,GAAWvL,EAASuL,UAAYtL,EAASsL,SAAaI,GAAS3L,EAAS2L,QAAU1L,EAAS0L,SAC9F3M,EAASuM,QAAUC,YAAoB,SAAUvL,KAI9C4M,GAGM1P,8KChBf,IAAMC,EAAO,SAACiH,EAAM7E,GAAU,IAAAuN,EACMvN,EAA1B6B,YADoB,IAAA0L,EACb,GADaA,EAAAC,EACMxN,EAAfgL,aADS,IAAAwC,EACD,GADCA,EAE5B,OAAO,IAAIC,IAAS5L,EAAMmJ,IAGbpN,mTCHTC,EAAe,SAACgH,EAAM7E,GAAU,IAAA0N,EACE1N,EAA9B0F,aAD4B,IAAAgI,EACpB,IADoBA,EAAAC,EACE3N,EAAjB6F,cADe,IAAA8H,EACN,IADMA,EAE9B5B,EAAUC,YAAoB,eAAgBhM,GAE9C4N,EAAK,IAAIC,IAAiB9B,EAASrG,EAAOG,GAmBhD,OAjBA+H,EAAG1K,WAAa,SAAC1D,EAAUgB,EAAUC,GAAa,IAI9BqN,EAIHC,EAPPC,EAAsDvN,EAAtDuN,UAAWC,EAA2CxN,EAA3CwN,aAAc9B,EAA6B1L,EAA7B0L,MAAOJ,EAAsBtL,EAAtBsL,QAAY/L,EADJ5E,OAAAkQ,EAAA,EAAAlQ,CACcqF,EADd,iDAEhD0C,YAAkB3D,EAAUgB,EAAUR,GAElCiO,KACFH,EAAAtO,EAASyO,cAAajJ,IAAtB/I,MAAA6R,EAAA1S,OAAA8S,EAAA,EAAA9S,CAA6B+S,YAAWF,KAGtCD,IACFD,EAAAvO,EAASwO,WAAUhJ,IAAnB/I,MAAA8R,EAAA3S,OAAA8S,EAAA,EAAA9S,CAA0B+S,YAAWH,MAGnC7B,GAASJ,KACXvM,EAASuM,QAAUC,YAAoB,SAAUvL,KAI9CmN,GAGM/P,0LC3Bf,IAAMC,EAAa,SAAC+G,EAAM7E,GACxB,IAAM+L,EAAUC,YAAoB,OAAQhM,GACpC4M,EAA4D5M,EAA5D4M,SAAUI,EAAkDhN,EAAlDgN,IAAKoB,EAA6CpO,EAA7CoO,QAFWC,EAEkCrO,EAApCsO,gBAFE,IAAAD,EAESE,IAAWC,UAFpBH,EAI5BI,EAAa,IAAIC,IAAe3C,EAASa,EAAUI,EAAKoB,EAASE,GAWvE,OATAG,EAAWvL,WAAa,SAAC1D,EAAUgB,EAAUC,GAAa,IAChD0L,EAA6B1L,EAA7B0L,MAAOJ,EAAsBtL,EAAtBsL,QAAY/L,EAD6B5E,OAAAkQ,EAAA,EAAAlQ,CACnBqF,EADmB,qBAExD0C,YAAkB3D,EAAUgB,EAAUR,IAElCmM,GAASJ,KACXvM,EAASuM,QAAUC,YAAoB,OAAQvL,KAI5CgO,GAGM3Q,sLCjBf,IAAMC,EAAa,SAAC8G,EAAM7E,GACxB,IAAM+L,EAAUC,YAAoB,aAAchM,GAC1C2O,EAAW3O,EAAX2O,OAEFC,EAAO,IAAIC,IAAe9C,EAAS4C,GAazC,OAXAC,EAAK1L,WAAa,SAAC1D,EAAUgB,EAAUC,GAAa,IAC1C0L,EAA6B1L,EAA7B0L,MAAOJ,EAAsBtL,EAAtBsL,QAAY/L,EADuB5E,OAAAkQ,EAAA,EAAAlQ,CACbqF,EADa,qBAGlD/D,IAAU5B,MAAMY,QAAQ+E,EAASkO,QAAS,mCAAoC,qBAC9ExL,YAAkB3D,EAAUgB,EAAUR,IAElCmM,GAASJ,KACXvM,EAASuM,QAAUC,YAAoB,aAAcvL,KAIlDmO,GAGM7Q,wsECdR,IAAMC,EAAQ,CACnBV,WAAY,aACZC,UAAW,YACXC,SAAU,WACVC,eAAgB,iBAChBC,kBAAmB,oBACnBC,OAAQ,SACRC,KAAM,OACNC,aAAc,eACdC,WAAY,aACZC,WAAY,2MAGd,IAAM+Q,EAAW1T,OAAOQ,KAAKoC,GAAOoK,OAAO,SAAC2G,EAAU1O,GAAX,OAAAjF,OAAAuR,EAAA,EAAAvR,CAAA,GAA0B2T,EAA1B3T,OAAA4T,EAAA,EAAA5T,CAAA,GAAqCiF,EAAO4O,EAAW5O,MAAU,IAO/F6O,EAAiB,GAWvB,SAAStP,EAAcS,GAA+B,IAGvDb,EACA0D,EAJ8BlD,EAAyBrF,UAAAC,OAAA,QAAA0B,IAAA3B,UAAA,GAAAA,UAAA,GAAjB,GAAIkK,EAAalK,UAAAC,OAAA,QAAA0B,IAAA3B,UAAA,GAAAA,UAAA,GAAN,KAC/CwU,EAAKL,EAASzO,GASpB,GAJkB,oBAAP8O,IACT3P,EAAW2P,EAAGtK,EAAM7E,KAGjBR,EAAU,CAEb,IAAM4P,EAAWF,EAAe7O,GAC5B+O,KACF5P,EAAW4P,EAASC,OAAOrP,IAClB3B,SAAW+Q,EAAS/Q,SAAW+Q,EAAS/Q,SAASiR,KAAK9P,QAAYlD,EAC3EkD,EAASjB,YAAc6Q,EAAS7Q,YAAc6Q,EAAS7Q,YAAY+Q,KAAK9P,QAAYlD,EACpFkD,EAAS0D,WAAakM,EAASlM,WAAakM,EAASlM,WAAWoM,KAAK9P,QAAYlD,GAarF,OARIkD,IAEwB,oBAD1B0D,EAAaqM,IAAI/P,EAAU,SAAAgQ,GAAC,OAAIA,EAAEtM,gBAEhCA,EAAaC,KAEfD,EAAW1D,EAAU,GAAIQ,IAGpBR,EASF,SAASiQ,EAAcpP,EAAMqP,GAMlC,OALAhT,MAAY2D,EAAM,sCAAuCA,GACzD3D,KAAWsB,EAAMqC,GAAO,6EAA8EA,GAEtG6O,EAAe7O,GAAQqP,EAEhBrP,m+BC3EF,SAAS8N,EAAWzE,GACzB,IAAIiG,EAAM,GAEV,GAAqB,qBAAVjG,EACT,OAAOiG,EACF,GAAqB,kBAAVjG,EAChBiG,EAAMjG,EAAMkG,MAAM,UACb,GAAqB,kBAAVlG,EAChBiG,EAAM,CAACjG,QACF,GAAI5O,MAAMY,QAAQgO,GACvBiG,EAAGvU,OAAAyU,EAAA,EAAAzU,CAAOsO,OACL,IAAc,OAAVA,GAAmC,kBAAVA,EAKlC,OAAOiG,EAFPA,EAAM,CAFIJ,IAAI7F,EAAO,SAAA8F,GAAC,OAAIA,EAAEM,KAAM,EACxBP,IAAI7F,EAAO,SAAA8F,GAAC,OAAIA,EAAEO,KAAM,GAMpC,OAAOJ,EAAI1H,OAAO,SAAAC,GAAC,OAAK8H,IAAM9H,KAAO+H,MAAM/H,KAAIgI,IAAIC,QAU9C,SAASC,EAAY1G,GAC1B,OAAOA,aAAiB2G,KAAS3G,aAAiB4G,mVAQ7C,IAAMC,EAAgB,CAC3B,QACA,YACA,YACA,WACA,YACA,UACA,iBACA,MACA,aACA,YACA,WACA,kBACA,gBACA,aACA,cACA,aACA,cACA,YACA,mBACA,cACA,aACA,YACA,UACA,iBACA,cACA,kBACA,YACA,cAWK,SAASC,EAAShR,EAAU8I,EAAMoB,GACvC,GAAI0G,EAAY5Q,EAAS8I,KAAU8H,EAAY1G,GAE7ClK,EAAS8I,GAAMmI,SAAS/G,QACnB,GAAI0G,EAAY5Q,EAAS8I,IAAQ,CAEtC,IAAMoI,EAAcvC,EAAWzE,GAE/BhN,IACyB,qBAAhBgU,GAA+BA,EAAY9V,OAAS,GAAK8V,EAAY9V,OAAS,EACrF,uUAGA0N,EACAqI,KAAKC,UAAUlH,UACRA,GAGTlK,EAAS8I,GAAMtD,IAAI0L,EAAYG,QAASH,EAAYG,cAGpDrR,EAAS8I,GAAQoB,+7BCvGR1I,EAAW,yMAMjB,IAAM8P,GAAcC,EAAA,GAAA3V,OAAA4V,EAAA,EAAA5V,CAAA2V,EACxB/P,GAAW,GADa5F,OAAA4V,EAAA,EAAA5V,CAAA2V,EAAA,UAEjB,GAFiB3V,OAAA4V,EAAA,EAAA5V,CAAA2V,EAAA,cAGb,GAHa3V,OAAA4V,EAAA,EAAA5V,CAAA2V,EAAA,kBAIT,GAJS3V,OAAA4V,EAAA,EAAA5V,CAAA2V,EAAA,gBAKX,GALWA,uMAcpB,IAAM/I,EAAuB,CAClCxG,MAAO,EACPyP,YAAY,EACZC,eAAe,EACfC,OAAQ,KACRC,WAAY,KACZC,QAAS,KACTC,QAAS,KACTC,aAAa,EACbC,KAAM,KACNC,MAAO,EACP3E,SAAU,EACVpL,YAAY,EACZqL,SAAU,EACVF,MAAO,EACP6E,KAAM,EACNC,UAAW,KACX7R,SAAS,EACTgQ,EAAG,EACHC,EAAG,6MAWE,IAAM/D,EAAsB,SAAC4F,GAA4B,IAAf5R,EAAerF,UAAAC,OAAA,QAAA0B,IAAA3B,UAAA,GAAAA,UAAA,GAAP,GACjDkX,EAAQ,SAACC,EAAQC,GACrB,GAAI/R,EAAMC,eAAe6R,GAAS,CAChC,IAAME,EACJD,EAAUE,QAAQC,KAAK,SAAAC,GAAC,cAAWnS,EAAM8R,KAAYK,KACrDJ,EAAUK,YAAYF,KAAK,SAAAG,GAAC,OAAIrS,EAAM8R,aAAmBO,IAE3D,OADA3V,IAAUsV,EAAD,GAAArK,OAAWiK,EAAX,KAAAjK,OAA0BmK,EAA1B,qBACF9R,EAAM8R,KAIjB,GAAI9R,EAAM+L,QAER,OADArP,IAAUsD,EAAM+L,mBAAmBuG,IAA1B,GAAA3K,OAAsCiK,EAAtC,+CACF5R,EAAM+L,QAEb,IAAMwG,EACJV,EAAM,QAAS,CAAEI,QAAS,CAAC,UAAWG,YAAa,CAACI,qBACpDX,EAAM,QAAS,CAAEI,QAAS,CAAC,UAAWG,YAAa,CAACK,qBACpDZ,EAAM,SAAU,CACdI,QAAS,CAAC,SAAU,UACpBG,YAAa,CAACI,iBAAkBC,iBAAkB/K,kBAAmB4K,OAIzE,OADA5V,MAAY6V,EAAH,GAAA5K,OAAciK,EAAd,sCACFU,IAAQI,KAAKH,6MAIxB,IAAMI,EAAcpY,YAAID,YAAM,GAAAqN,OAAAvM,OAAAyU,EAAA,EAAAzU,CAAKA,OAAOQ,KAAKkV,IAAjB1V,OAAAyU,EAAA,EAAAzU,CAAqCmV,QAS5D,SAASpN,EAAkB3D,EAAUgB,EAAUC,GAQpD,GAPA/D,IACEkW,IAAcvX,UAAUuJ,cAAcpF,GACtC,oEACOA,IAIJiB,EAASoS,aAIZ,IAHA,IAAMC,EAAuD,oBAA5BtT,EAASuT,eACpCC,EAA+B,oBAAhBxT,EAASyT,GAErBZ,EAAI,EAAGA,EAAI9B,IAAc3V,OAAQyX,IAAK,CAC7C,IAAMa,EAAM3C,IAAc8B,GACtB7R,EAAS0S,KAASzS,EAASyS,KACA,oBAAlB1S,EAAS0S,IAAuBJ,GACzCtT,EAASuT,eAAeG,EAAK1S,EAAS0S,IAEX,oBAAlBzS,EAASyS,IAAuBF,GACzCxT,EAASyT,GAAGC,EAAKzS,EAASyS,KAMlC,IAAMC,EAAc/X,OAAOQ,KAAK6E,GAAY,IAG5C,GAAIA,EAAS2S,eACX,IAAK,IAAIf,EAAI,EAAGA,EAAIc,EAAYvY,OAAQyX,IAAK,CAC3C,IAAMnK,EAAIiL,EAAYd,GAClB7R,EAAS0H,KAAOzH,EAASyH,IAC3BsI,YAAShR,EAAU0I,EAAGzH,EAASyH,SAQrC,IAFA,IAAMlI,EAAQmT,EAAYlL,OAAO0K,GAExBN,EAAI,EAAGA,EAAIrS,EAAMpF,OAAQyX,IAAK,CACrC,IAAM/J,EAAOtI,EAAMqS,GACb3I,EAAQjJ,EAAS6H,GAElB0H,IAAMtG,IAGCsG,IAAMxQ,EAAS8I,KAAUA,KAAQN,GAE3C6B,QAAQwJ,KAAR,0BAAA1L,OAAuCW,EAAvC,YAAAX,OAAsDnI,EAAS8I,GAA/D,SAAAX,OAA4E+B,EAA5E,QAAyFlK,GACzFgR,YAAShR,EAAU8I,EAAMN,EAAqBM,KAE9CuB,QAAQwJ,KAAR,kBAAA1L,OAA+BW,EAA/B,WAAAX,OAA6CnI,EAAS8I,GAAtD,QAAAX,OAAkE+B,EAAlE,QAA+ElK,GAN/EgR,YAAShR,EAAU8I,EAAMoB","file":"static/js/readme~src-components-bitmap-text~src-components-container~src-components-graphics~src-components-ni~d72afbc2.81715afb.js","sourcesContent":["export const isFunction = (...args) => args.every(v => typeof v === 'function')\n\nexport const isObject = obj => Object.prototype.toString.call(obj) === '[object Object]'\n\nexport const hasKey = collection => {\n  let coll = collection\n\n  if (!Array.isArray(coll)) {\n    if (isObject(collection)) {\n      coll = Object.keys(collection)\n    } else {\n      throw new Error('collection needs to be an Array or Object')\n    }\n  }\n\n  const index = {}\n  coll.forEach(key => {\n    index[key] = true\n  })\n\n  return key => typeof index[key] !== 'undefined'\n}\n\nexport const not = boolFn => (...args) => !boolFn(...args)\n\nexport const runningInBrowser = () => typeof window !== 'undefined'\n","import invariant from 'fbjs/lib/invariant'\nimport { Application } from 'pixi.js'\nimport React, { useEffect, useContext, useRef } from 'react'\nimport { Context } from '../stage/provider'\n\nfunction useTick(callback, enabled = true) {\n  const app = useContext(Context)\n  invariant(\n    app instanceof Application,\n    'No Context found with `%s`. Make sure to wrap component with `%s`',\n    'PIXI.Application',\n    'AppProvider'\n  )\n\n  const savedRef = useRef(null)\n\n  useEffect(() => {\n    savedRef.current = callback\n  }, [callback])\n\n  useEffect(() => {\n    if (enabled) {\n      const tick = delta => savedRef.current(delta)\n      app.ticker.add(tick)\n\n      return () => {\n        app.ticker.remove(tick)\n      }\n    }\n  }, [enabled])\n}\n\nexport { useTick }\n","import React, { useContext } from 'react'\nimport { Context } from '../stage/provider'\n\nexport function useApp() {\n  return useContext(Context)\n}\n","import { TYPES, PixiComponent } from './utils/element'\nimport { render } from './render'\nimport Stage from './stage'\nimport { PixiFiber } from './reconciler'\nimport { Context as AppContext, AppProvider, AppConsumer, withPixiApp } from './stage/provider'\nimport { useTick, useApp } from './hooks'\nimport { applyDefaultProps } from './utils/props'\n\n/**\n * -------------------------------------------\n * Public API\n * -------------------------------------------\n */\n\nexport { render, Stage, withPixiApp, PixiComponent, PixiFiber }\nexport { AppProvider, AppConsumer, AppContext }\nexport { useTick, useApp }\nexport { applyDefaultProps }\n\nexport const BitmapText = TYPES.BitmapText\nexport const Container = TYPES.Container\nexport const Graphics = TYPES.Graphics\nexport const NineSlicePlane = TYPES.NineSlicePlane\nexport const ParticleContainer = TYPES.ParticleContainer\nexport const Sprite = TYPES.Sprite\nexport const Text = TYPES.Text\nexport const TilingSprite = TYPES.TilingSprite\nexport const SimpleMesh = TYPES.SimpleMesh\nexport const SimpleRope = TYPES.SimpleRope\n","/**\n * -------------------------------------------\n * Host Config file.\n *\n * See:\n *   https://github.com/facebook/react/tree/master/packages/react-reconciler\n *   https://github.com/facebook/react/blob/master/packages/react-reconciler/src/forks/ReactFiberHostConfig.custom.js\n * -------------------------------------------\n */\n\nimport invariant from 'fbjs/lib/invariant'\nimport performanceNow from 'performance-now'\n\nimport { createElement } from '../utils/element'\nimport { CHILDREN, applyDefaultProps } from '../utils/props'\n\nfunction appendChild(parent, child) {\n  if (parent.addChild) {\n    parent.addChild(child)\n\n    if (typeof child.didMount === 'function') {\n      child.didMount.call(child, child, parent)\n    }\n  }\n}\n\nfunction removeChild(parent, child) {\n  if (typeof child.willUnmount === 'function') {\n    child.willUnmount.call(child, child, parent)\n  }\n\n  parent.removeChild(child)\n  child.destroy()\n}\n\nfunction insertBefore(parent, child, beforeChild) {\n  invariant(child !== beforeChild, 'PixiFiber cannot insert node before itself')\n\n  const childExists = parent.children.indexOf(child) !== -1\n  const index = parent.getChildIndex(beforeChild)\n\n  childExists ? parent.setChildIndex(child, index) : parent.addChildAt(child, index)\n}\n\n// get diff between 2 objects\n// https://github.com/facebook/react/blob/97e2911/packages/react-dom/src/client/ReactDOMFiberComponent.js#L546\nfunction diffProperties(pixiElement, type, lastProps, nextProps, rootContainerElement) {\n  let updatePayload = null\n\n  for (let propKey in lastProps) {\n    if (nextProps.hasOwnProperty(propKey) || !lastProps.hasOwnProperty(propKey) || lastProps[propKey] == null) {\n      continue\n    }\n    if (propKey === CHILDREN) {\n      // Noop. Text children not supported\n    } else {\n      // For all other deleted properties we add it to the queue. We use\n      // the whitelist in the commit phase instead.\n      if (!updatePayload) {\n        updatePayload = []\n      }\n      updatePayload.push(propKey, null)\n    }\n  }\n\n  for (let propKey in nextProps) {\n    const nextProp = nextProps[propKey]\n    const lastProp = lastProps != null ? lastProps[propKey] : undefined\n\n    if (!nextProps.hasOwnProperty(propKey) || nextProp === lastProp || (nextProp == null && lastProp == null)) {\n      continue\n    }\n\n    if (propKey === CHILDREN) {\n      // Noop. Text children not supported\n    } else {\n      // For any other property we always add it to the queue and then we\n      // filter it out using the whitelist during the commit.\n      if (!updatePayload) {\n        updatePayload = []\n      }\n      updatePayload.push(propKey, nextProp)\n    }\n  }\n  return updatePayload\n}\n\nexport default {\n  getRootHostContext(rootContainerInstance) {\n    return rootContainerInstance\n  },\n\n  getChildHostContext() {\n    return {}\n  },\n\n  getChildHostContextForEventComponent(parentHostContext) {\n    return parentHostContext\n  },\n\n  getPublicInstance(instance) {\n    return instance\n  },\n\n  prepareForCommit() {\n    // noop\n  },\n\n  resetAfterCommit() {\n    // noop\n  },\n\n  createInstance: createElement,\n\n  hideInstance(instance) {\n    instance.visible = false\n  },\n\n  unhideInstance(instance, props) {\n    const visible = props !== undefined && props !== null && props.hasOwnProperty('visible') ? props.visible : true\n\n    instance.visible = visible\n  },\n\n  appendInitialChild: appendChild,\n\n  finalizeInitialChildren(wordElement, type, props) {\n    return false\n  },\n\n  prepareUpdate(pixiElement, type, oldProps, newProps, rootContainerInstance, hostContext) {\n    return diffProperties(pixiElement, type, oldProps, newProps, rootContainerInstance)\n  },\n\n  shouldSetTextContent(type, props) {\n    return false\n  },\n\n  shouldDeprioritizeSubtree(type, props) {\n    const isAlphaVisible = typeof props.alpha === 'undefined' || props.alpha > 0\n    const isRenderable = typeof props.renderable === 'undefined' || props.renderable === true\n    const isVisible = typeof props.visible === 'undefined' || props.visible === true\n\n    return !(isAlphaVisible && isRenderable && isVisible)\n  },\n\n  createTextInstance(text, rootContainerInstance, internalInstanceHandler) {\n    invariant(false, 'PixiFiber does not support text instances. Use `<Text /> component` instead.')\n  },\n\n  mountEventComponent() {\n    // noop\n  },\n\n  updateEventComponent() {\n    // noop\n  },\n\n  handleEventTarget() {\n    // noop\n  },\n\n  scheduleTimeout: setTimeout,\n\n  cancelTimeout: clearTimeout,\n\n  noTimeout: -1,\n\n  warnsIfNotActing: false,\n\n  now: performanceNow,\n\n  isPrimaryRenderer: false,\n\n  supportsMutation: true,\n\n  supportsPersistence: false,\n\n  supportsHydration: false,\n\n  /**\n   * -------------------------------------------\n   * Mutation\n   * -------------------------------------------\n   */\n\n  appendChild,\n\n  appendChildToContainer: appendChild,\n\n  removeChild,\n\n  removeChildFromContainer: removeChild,\n\n  insertBefore,\n\n  insertInContainerBefore: insertBefore,\n\n  commitUpdate(instance, updatePayload, type, oldProps, newProps) {\n    let applyProps = instance && instance.applyProps\n    if (typeof applyProps !== 'function') {\n      applyProps = applyDefaultProps\n    }\n    applyProps(instance, oldProps, newProps)\n  },\n\n  commitMount(instance, updatePayload, type, oldProps, newProps) {\n    // noop\n  },\n\n  commitTextUpdate(textInstance, oldText, newText) {\n    // noop\n  },\n\n  resetTextContent(pixiElement) {\n    // noop\n  },\n}\n","import Reconciler from 'react-reconciler'\nimport pkg from '../../package.json'\nimport hostconfig from './hostconfig'\n\nexport const PixiFiber = Reconciler(hostconfig)\nexport const VERSION = pkg.version\nexport const PACKAGE_NAME = pkg.name\n","import invariant from 'fbjs/lib/invariant'\nimport { Container } from 'pixi.js'\nimport { PixiFiber, PACKAGE_NAME, VERSION } from '../reconciler'\n\n// cache root containers\nexport const roots = new Map()\n\n/**\n * Custom Renderer\n * Use this without React-DOM\n *\n * @param {*} element\n * @param {PIXI.Container} container (i.e. the Stage)\n * @param {Function} callback\n */\nexport function render(element, container, callback = undefined) {\n  invariant(\n    Container.prototype.isPrototypeOf(container),\n    'Invalid argument `container`, expected instance of `PIXI.Container`.'\n  )\n\n  let root = roots.get(container)\n  if (!root) {\n    // get the flushed fiber container\n    root = PixiFiber.createContainer(container)\n    roots.set(container, root)\n  }\n\n  // schedules a top level update\n  PixiFiber.updateContainer(element, root, undefined, callback)\n\n  // inject into react devtools\n  injectDevtools()\n\n  // return the root instance\n  return PixiFiber.getPublicRootInstance(root)\n}\n\n/**\n * Inject into React Devtools\n */\nexport function injectDevtools() {\n  PixiFiber.injectIntoDevTools({\n    bundleType: process.env.NODE_ENV !== 'production' ? 1 : 0,\n    version: VERSION,\n    rendererPackageName: PACKAGE_NAME,\n    findHostInstanceByFiber: PixiFiber.findHostInstance,\n  })\n}\n","import React from 'react'\nimport { Application } from 'pixi.js'\nimport PropTypes from 'prop-types'\nimport invariant from 'fbjs/lib/invariant'\nimport { PROPS_DISPLAY_OBJECT } from '../utils/props'\nimport { runningInBrowser } from '../helpers'\nimport { PixiFiber } from '../reconciler'\nimport { injectDevtools } from '../render'\nimport { AppProvider } from './provider'\n\nconst noop = () => {}\n\n/**\n * -------------------------------------------\n * Stage React Component (use this in react-dom)\n *\n * @usage\n *\n *    const App = () => (\n *      <Stage width={500}\n *             height={500}\n *             options={ backgroundColor: 0xff0000 }\n *             onMount={( renderer, canvas ) => {\n *               console.log('PIXI renderer: ', renderer)\n *               console.log('Canvas element: ', canvas)\n *             }}>\n *    )\n *\n * -------------------------------------------\n */\n\nconst propTypes = {\n  // dimensions\n  width: PropTypes.number,\n  height: PropTypes.number,\n\n  // will return renderer\n  onMount: PropTypes.func,\n  onUnmount: PropTypes.func,\n\n  // run ticker at start?\n  raf: PropTypes.bool,\n\n  // render component on component lifecycle changes?\n  renderOnComponentChange: PropTypes.bool,\n\n  children: PropTypes.node,\n\n  // PIXI options, see http://pixijs.download/dev/docs/PIXI.Application.html\n  options: PropTypes.shape({\n    antialias: PropTypes.bool,\n    autoStart: PropTypes.bool,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    transparent: PropTypes.bool,\n    preserveDrawingBuffer: PropTypes.bool,\n    resolution: PropTypes.number,\n    forceCanvas: PropTypes.bool,\n    backgroundColor: PropTypes.number,\n    clearBeforeRender: PropTypes.bool,\n    roundPixels: PropTypes.bool,\n    forceFXAA: PropTypes.bool,\n    legacy: PropTypes.bool,\n    powerPreference: PropTypes.string,\n    sharedTicker: PropTypes.bool,\n    sharedLoader: PropTypes.bool,\n\n    // view is optional, use if provided\n    view: (props, propName, componentName) => {\n      const el = props[propName]\n      if (el === undefined) {\n        return\n      }\n      invariant(\n        el instanceof HTMLCanvasElement,\n        `Invalid prop \\`view\\` of type ${typeof el}, supplied to ${componentName}, expected \\`<canvas> Element\\``\n      )\n    },\n  }),\n}\n\nconst defaultProps = {\n  width: 800,\n  height: 600,\n  onMount: noop,\n  onUnmount: noop,\n  raf: true,\n  renderOnComponentChange: true,\n}\n\nexport function getCanvasProps(props) {\n  const reserved = [...Object.keys(propTypes), ...Object.keys(PROPS_DISPLAY_OBJECT)]\n\n  return Object.keys(props)\n    .filter(p => !reserved.includes(p))\n    .reduce((all, prop) => ({ ...all, [prop]: props[prop] }), {})\n}\n\nclass Stage extends React.Component {\n  _canvas = null\n  app = null\n\n  UNSAFE_componentWillMount() {\n    invariant(runningInBrowser(), `Cannot mount Stage, window object is not defined`)\n  }\n\n  componentDidMount() {\n    const { onMount, width, height, options, raf } = this.props\n\n    this.app = new Application({\n      width,\n      height,\n      view: this._canvas,\n      ...options,\n    })\n\n    this.app.ticker.autoStart = false\n\n    this.app.ticker[raf ? 'start' : 'stop']()\n\n    this.mountNode = PixiFiber.createContainer(this.app.stage)\n    PixiFiber.updateContainer(this.getChildren(), this.mountNode, this)\n\n    injectDevtools()\n\n    onMount(this.app)\n    this.renderStage()\n  }\n\n  componentDidUpdate(prevProps, prevState, prevContext) {\n    const { width, height, raf } = this.props\n\n    // handle resize\n    if (prevProps.height !== height || prevProps.width !== width) {\n      this.app.renderer.resize(width, height)\n    }\n\n    // handle raf change\n    if (prevProps.raf !== raf) {\n      this.app.ticker[raf ? 'start' : 'stop']()\n    }\n\n    // handle resolution ?\n\n    // flush fiber\n    PixiFiber.updateContainer(this.getChildren(), this.mountNode, this)\n    this.renderStage()\n  }\n\n  getChildren() {\n    const { children } = this.props\n    return <AppProvider value={this.app}>{children}</AppProvider>\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error(`Error occurred in \\`Stage\\`.`)\n    console.error(error)\n    console.error(errorInfo)\n  }\n\n  renderStage() {\n    const { renderOnComponentChange, raf } = this.props\n\n    if (!raf && renderOnComponentChange) {\n      this.app.renderer.render(this.app.stage)\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.onUnmount(this.app)\n\n    PixiFiber.updateContainer(null, this.mountNode, this)\n    this.renderStage()\n    this.app.destroy()\n  }\n\n  render() {\n    const { options } = this.props\n\n    if (options && options.view) {\n      invariant(options.view instanceof HTMLCanvasElement, 'options.view needs to be a `HTMLCanvasElement`')\n      return null\n    }\n\n    return <canvas {...getCanvasProps(this.props)} ref={c => (this._canvas = c)} />\n  }\n}\n\nStage.propTypes = propTypes\nStage.defaultProps = defaultProps\n\nexport default Stage\n","import React from 'react'\n\nconst Context = React.createContext(null)\n\nconst AppProvider = Context.Provider\nconst AppConsumer = Context.Consumer\n\nconst withPixiApp = BaseComponent => {\n  const wrapper = React.forwardRef((props, ref) => (\n    <AppConsumer>{app => <BaseComponent {...props} ref={ref} app={app} />}</AppConsumer>\n  ))\n  wrapper.displayName = `withPIXIApp(${BaseComponent.displayName || BaseComponent.name})`\n  return wrapper\n}\n\nexport { withPixiApp, AppProvider, AppConsumer, Context }\n","import { BitmapText as PixiBitmapText } from 'pixi.js'\n\nconst BitmapText = (root, props) => {\n  const { text, style } = props\n  return new PixiBitmapText(text, style)\n}\n\nexport default BitmapText\n","import { Container as PixiContainer } from 'pixi.js'\n\nconst Container = () => new PixiContainer()\n\nexport default Container\n","import { Graphics as PixiGraphics } from 'pixi.js'\nimport { applyDefaultProps } from '../utils/props'\n\nconst Graphics = (root, props) => {\n  const g = new PixiGraphics()\n\n  g.applyProps = (instance, oldProps, newProps) => {\n    const { draw, ...props } = newProps\n    applyDefaultProps(instance, oldProps, props)\n\n    if (draw && typeof draw === 'function') {\n      draw.call(g, g)\n    }\n  }\n\n  return g\n}\n\nexport default Graphics\n","import { NineSlicePlane as PixiNineSlicePlane } from 'pixi.js'\nimport { getTextureFromProps, applyDefaultProps } from '../utils/props'\n\nconst NineSlicePlane = (root, props) => {\n  const { leftWidth = 10, topHeight = 10, rightWidth = 10, bottomHeight = 10 } = props\n  const texture = getTextureFromProps('NineSlicePlane', props)\n\n  const nineSlicePlane = new PixiNineSlicePlane(texture, leftWidth, topHeight, rightWidth, bottomHeight)\n\n  nineSlicePlane.applyProps = (instance, oldProps, newProps) => {\n    const { image, texture, ...props } = newProps\n    applyDefaultProps(instance, oldProps, props)\n\n    if (image || texture) {\n      instance.texture = getTextureFromProps('NineSlicePlane', newProps)\n    }\n  }\n\n  return nineSlicePlane\n}\n\nexport default NineSlicePlane\n","import { ParticleContainer as PixiParticleContainer } from 'pixi.js'\n\nconst ParticleContainer = (root, props) => {\n  const { maxSize = 1500, batchSize = 16384, autoResize = false } = props\n\n  const properties = {\n    ...{\n      vertices: false,\n      scale: true,\n      position: true,\n      rotation: true,\n      uvs: true,\n      tint: true,\n    },\n    ...(props.properties || {}),\n  }\n\n  const destroyOptions = {\n    ...{\n      children: false,\n      texture: false,\n      baseTexture: false,\n    },\n    ...(props.destroyOptions || {}),\n  }\n\n  const container = new PixiParticleContainer(maxSize, properties, batchSize, autoResize)\n\n  container.willUnmount = (instance, child, parent) => {\n    instance.destroy(destroyOptions)\n  }\n\n  return container\n}\n\nexport default ParticleContainer\n","import { Sprite as PixiSprite } from 'pixi.js'\nimport { getTextureFromProps, applyDefaultProps } from '../utils/props'\n\nconst Sprite = (root, props) => {\n  const sprite = new PixiSprite(getTextureFromProps('Sprite', props))\n\n  sprite.applyProps = (instance, oldProps, newProps) => {\n    const { image, texture, ...props } = newProps\n    applyDefaultProps(instance, oldProps, props)\n\n    if ((texture && oldProps.texture !== newProps.texture) || (image && oldProps.image !== newProps.image)) {\n      instance.texture = getTextureFromProps('Sprite', newProps)\n    }\n  }\n\n  return sprite\n}\n\nexport default Sprite\n","import { Text as PixiText } from 'pixi.js'\n\nconst Text = (root, props) => {\n  const { text = '', style = {} } = props\n  return new PixiText(text, style)\n}\n\nexport default Text\n","import { TilingSprite as PixiTilingSprite } from 'pixi.js'\nimport { getTextureFromProps, applyDefaultProps } from '../utils/props'\nimport { parsePoint } from '../utils/pixi'\n\nconst TilingSprite = (root, props) => {\n  const { width = 100, height = 100 } = props\n  const texture = getTextureFromProps('TilingSprite', props)\n\n  const ts = new PixiTilingSprite(texture, width, height)\n\n  ts.applyProps = (instance, oldProps, newProps) => {\n    const { tileScale, tilePosition, image, texture, ...props } = newProps\n    applyDefaultProps(instance, oldProps, props)\n\n    if (tilePosition) {\n      instance.tilePosition.set(...parsePoint(tilePosition))\n    }\n\n    if (tileScale) {\n      instance.tileScale.set(...parsePoint(tileScale))\n    }\n\n    if (image || texture) {\n      instance.texture = getTextureFromProps('Sprite', newProps)\n    }\n  }\n\n  return ts\n}\n\nexport default TilingSprite\n","import { SimpleMesh as PixiSimpleMesh, DRAW_MODES } from 'pixi.js'\nimport { applyDefaultProps, getTextureFromProps } from '../utils/props'\n\nconst SimpleMesh = (root, props) => {\n  const texture = getTextureFromProps('Mesh', props)\n  const { vertices, uvs, indices, drawMode = DRAW_MODES.TRIANGLES } = props\n\n  const simpleMesh = new PixiSimpleMesh(texture, vertices, uvs, indices, drawMode)\n\n  simpleMesh.applyProps = (instance, oldProps, newProps) => {\n    const { image, texture, ...props } = newProps\n    applyDefaultProps(instance, oldProps, props)\n\n    if (image || texture) {\n      instance.texture = getTextureFromProps('Mesh', newProps)\n    }\n  }\n\n  return simpleMesh\n}\n\nexport default SimpleMesh\n","import { SimpleRope as PixiSimpleRope } from 'pixi.js'\nimport invariant from 'fbjs/lib/invariant'\nimport { getTextureFromProps, applyDefaultProps } from '../utils/props'\n\nconst SimpleRope = (root, props) => {\n  const texture = getTextureFromProps('SimpleRope', props)\n  const { points } = props\n\n  const rope = new PixiSimpleRope(texture, points)\n\n  rope.applyProps = (instance, oldProps, newProps) => {\n    const { image, texture, ...props } = newProps\n\n    invariant(Array.isArray(newProps.points), 'SimpleRope points needs to be %s', 'Array<PIXI.Point>')\n    applyDefaultProps(instance, oldProps, props)\n\n    if (image || texture) {\n      instance.texture = getTextureFromProps('SimpleRope', newProps)\n    }\n  }\n\n  return rope\n}\n\nexport default SimpleRope\n","import invariant from 'fbjs/lib/invariant'\nimport idx from 'idx'\nimport { applyDefaultProps } from './props'\nimport * as components from '../components'\n\n/**\n * Available tag types\n *\n * @type {Object}\n */\nexport const TYPES = {\n  BitmapText: 'BitmapText',\n  Container: 'Container',\n  Graphics: 'Graphics',\n  NineSlicePlane: 'NineSlicePlane',\n  ParticleContainer: 'ParticleContainer',\n  Sprite: 'Sprite',\n  Text: 'Text',\n  TilingSprite: 'TilingSprite',\n  SimpleMesh: 'SimpleMesh',\n  SimpleRope: 'SimpleRope',\n}\n\nconst ELEMENTS = Object.keys(TYPES).reduce((elements, type) => ({ ...elements, [type]: components[type] }), {})\n\n/**\n * Inject types\n *\n * @type {Object}\n */\nexport const TYPES_INJECTED = {}\n\n/**\n * Create an element based on tag type\n * Similar to react-dom's `React.createElement()`\n *\n * @param {string} type Element type\n * @param {Object} props Component props\n * @param {Object} root Root instance\n * @returns {PIXI.*|undefined}\n */\nexport function createElement(type, props = {}, root = null) {\n  const fn = ELEMENTS[type]\n\n  let instance\n  let applyProps\n\n  if (typeof fn === 'function') {\n    instance = fn(root, props)\n  }\n\n  if (!instance) {\n    // not found, is there any injected custom component?\n    const injected = TYPES_INJECTED[type]\n    if (injected) {\n      instance = injected.create(props)\n      instance.didMount = injected.didMount ? injected.didMount.bind(instance) : undefined\n      instance.willUnmount = injected.willUnmount ? injected.willUnmount.bind(instance) : undefined\n      instance.applyProps = injected.applyProps ? injected.applyProps.bind(instance) : undefined\n    }\n  }\n\n  // apply initial props!\n  if (instance) {\n    applyProps = idx(instance, _ => _.applyProps)\n    if (typeof applyProps !== 'function') {\n      applyProps = applyDefaultProps\n    }\n    applyProps(instance, {}, props)\n  }\n\n  return instance\n}\n\n/**\n * Create Component\n *\n * @param {string} type\n * @param {Object} lifecycle methods\n */\nexport function PixiComponent(type, lifecycle) {\n  invariant(!!type, 'Expect type to be defined, got `%s`', type)\n  invariant(!TYPES[type], 'Component `%s` could not be created, already exists in default components.', type)\n\n  TYPES_INJECTED[type] = lifecycle\n\n  return type\n}\n","import { Point, ObservablePoint } from 'pixi.js'\nimport invariant from 'fbjs/lib/invariant'\nimport idx from 'idx'\nimport isNil from 'lodash/isNil'\n\n/**\n * Parse PIXI point value to array of coordinates\n *\n * @param {*} value\n * @returns {Array}\n */\nexport function parsePoint(value) {\n  let arr = []\n\n  if (typeof value === 'undefined') {\n    return arr\n  } else if (typeof value === 'string') {\n    arr = value.split(',')\n  } else if (typeof value === 'number') {\n    arr = [value]\n  } else if (Array.isArray(value)) {\n    arr = [...value]\n  } else if (value !== null && typeof value === 'object') {\n    const x = idx(value, _ => _.x) || 0\n    const y = idx(value, _ => _.y) || 0\n    arr = [x, y]\n  } else {\n    return arr\n  }\n\n  return arr.filter(p => !isNil(p) && !isNaN(p)).map(Number)\n}\n\n/**\n * Determine value is type of Point or ObservablePoint\n * See https://github.com/michalochman/react-pixi-fiber/blob/a4dbddbef0ffbf0f563c64d30766ea28222a51ea/src/utils.js#L48\n *\n * @param {*} value\n * @returns {boolean}\n */\nexport function isPointType(value) {\n  return value instanceof Point || value instanceof ObservablePoint\n}\n\n/**\n * Event handlers\n *\n * @type {string[]}\n */\nexport const eventHandlers = [\n  'click',\n  'mousedown',\n  'mousemove',\n  'mouseout',\n  'mouseover',\n  'mouseup',\n  'mouseupoutside',\n  'tap',\n  'touchstart',\n  'touchmove',\n  'touchend',\n  'touchendoutside',\n  'pointercancel',\n  'pointerout',\n  'pointerover',\n  'pointertap',\n  'pointerdown',\n  'pointerup',\n  'pointerupoutside',\n  'pointermove',\n  'rightclick',\n  'rightdown',\n  'rightup',\n  'rightupoutside',\n  'touchcancel',\n  'touchendoutside',\n  'touchmove',\n  'touchstart',\n]\n\n/**\n * Set value on a PIXI.DisplayObject\n * See https://github.com/Izzimach/react-pixi/blob/a25196251a13ed9bb116a8576d93e9fceac2a14c/src/ReactPIXI.js#L114\n *\n * @param {PIXI.DisplayObject} instance\n * @param {string} prop\n * @param {*} value\n */\nexport function setValue(instance, prop, value) {\n  if (isPointType(instance[prop]) && isPointType(value)) {\n    // copy value\n    instance[prop].copyFrom(value)\n  } else if (isPointType(instance[prop])) {\n    // parse value if a non-Point type is being assigned to a Point type\n    const coordinates = parsePoint(value)\n\n    invariant(\n      typeof coordinates !== 'undefined' && coordinates.length > 0 && coordinates.length < 3,\n      'The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of ' +\n        'either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. ' +\n        'If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.',\n      prop,\n      JSON.stringify(value),\n      typeof value\n    )\n\n    instance[prop].set(coordinates.shift(), coordinates.shift())\n  } else {\n    // just hard assign value\n    instance[prop] = value\n  }\n}\n","import isNil from 'lodash/isNil'\nimport invariant from 'fbjs/lib/invariant'\nimport { Texture, DisplayObject } from 'pixi.js'\nimport { eventHandlers, setValue } from './pixi'\nimport { not, hasKey } from '../helpers'\n\nexport const CHILDREN = 'children'\n/**\n * Reserved props\n *\n * @type {Object}\n */\nexport const PROPS_RESERVED = {\n  [CHILDREN]: true,\n  parent: true,\n  worldAlpha: true,\n  worldTransform: true,\n  worldVisible: true,\n}\n\n/**\n * Default display object props\n * See https://github.com/michalochman/react-pixi-fiber/blob/a4dbddbef0ffbf0f563c64d30766ea28222a51ea/src/props.js#L9\n *\n * @type {Object}\n */\nexport const PROPS_DISPLAY_OBJECT = {\n  alpha: 1,\n  buttonMode: false,\n  cacheAsBitmap: false,\n  cursor: null,\n  filterArea: null,\n  filters: null,\n  hitArea: null,\n  interactive: false,\n  mask: null,\n  pivot: 0,\n  position: 0,\n  renderable: true,\n  rotation: 0,\n  scale: 1,\n  skew: 0,\n  transform: null,\n  visible: true,\n  x: 0,\n  y: 0,\n}\n\n/**\n * Helper util for fetching the texture from props\n * Can be either texture or image\n *\n * @param {string} elementType\n * @param {object} props\n * @returns {PIXI.Texture|null}\n */\nexport const getTextureFromProps = (elementType, props = {}) => {\n  const check = (inType, validator) => {\n    if (props.hasOwnProperty(inType)) {\n      const valid =\n        validator.typeofs.some(t => typeof props[inType] === t) ||\n        validator.instanceofs.some(i => props[inType] instanceof i)\n      invariant(valid, `${elementType} ${inType} prop is invalid`)\n      return props[inType]\n    }\n  }\n\n  if (props.texture) {\n    invariant(props.texture instanceof Texture, `${elementType} texture needs to be typeof \\`PIXI.Texture\\``)\n    return props.texture\n  } else {\n    const result =\n      check('image', { typeofs: ['string'], instanceofs: [HTMLImageElement] }) ||\n      check('video', { typeofs: ['string'], instanceofs: [HTMLVideoElement] }) ||\n      check('source', {\n        typeofs: ['string', 'number'],\n        instanceofs: [HTMLImageElement, HTMLVideoElement, HTMLCanvasElement, Texture],\n      })\n\n    invariant(!!result, `${elementType} could not get texture from props`)\n    return Texture.from(result)\n  }\n}\n\nconst filterProps = not(hasKey([...Object.keys(PROPS_RESERVED), ...eventHandlers]))\n\n/**\n * Apply default props on Display Object instance (which are all components)\n *\n * @param {PIXI.DisplayObject} instance\n * @param {Object} oldProps\n * @param {Object} newProps\n */\nexport function applyDefaultProps(instance, oldProps, newProps) {\n  invariant(\n    DisplayObject.prototype.isPrototypeOf(instance),\n    'instance needs to be typeof `PIXI.DisplayObject`, ' + 'got `%s`',\n    typeof instance\n  )\n\n  // update event handlers\n  if (!newProps.ignoreEvents) {\n    const hasRemoveListener = typeof instance.removeListener === 'function'\n    const hasOn = typeof instance.on === 'function'\n\n    for (let i = 0; i < eventHandlers.length; i++) {\n      const evt = eventHandlers[i]\n      if (oldProps[evt] !== newProps[evt]) {\n        if (typeof oldProps[evt] === 'function' && hasRemoveListener) {\n          instance.removeListener(evt, oldProps[evt])\n        }\n        if (typeof newProps[evt] === 'function' && hasOn) {\n          instance.on(evt, newProps[evt])\n        }\n      }\n    }\n  }\n\n  const newPropKeys = Object.keys(newProps || {})\n\n  // hard overwrite all props? can speed up performance\n  if (newProps.overwriteProps) {\n    for (let i = 0; i < newPropKeys.length; i++) {\n      const p = newPropKeys[i]\n      if (oldProps[p] !== newProps[p]) {\n        setValue(instance, p, newProps[p])\n      }\n    }\n    return\n  }\n\n  const props = newPropKeys.filter(filterProps)\n\n  for (let i = 0; i < props.length; i++) {\n    const prop = props[i]\n    const value = newProps[prop]\n\n    if (!isNil(value)) {\n      // set value if defined\n      setValue(instance, prop, value)\n    } else if (!isNil(instance[prop]) && prop in PROPS_DISPLAY_OBJECT) {\n      // is a default value, use that\n      console.warn(`setting default value: ${prop}, from: ${instance[prop]} to: ${value} for`, instance)\n      setValue(instance, prop, PROPS_DISPLAY_OBJECT[prop])\n    } else {\n      console.warn(`ignoring prop: ${prop}, from ${instance[prop]} to ${value} for`, instance)\n    }\n  }\n}\n"],"sourceRoot":""}